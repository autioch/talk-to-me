(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){e.exports=a(194)},114:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){},185:function(e,t,a){},187:function(e,t,a){},190:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var n=a(96),r=a(55),i="talk-to-me-1.0.0",s=["currentText","currentGrammar","pitch","rate","maxAlternatives"];var c,o={errorMessage:"",urlFolderPath:"/talk-to-me",currentText:"Test",voices:[],pitch:1,rate:1,isSpeaking:!1,isSpeechSupported:!!window.speechSynthesis,isRecognitionSupported:!(!window.SpeechRecognition&&!window.webkitSpeechRecognition),currentGrammar:"aqua azure beige bisque black blue brown chocolate coral",isRecognizing:!1,recognitionResult:"",recognitionDiagnosis:[],maxAlternatives:2},l=function(){var e;if(localStorage[i])try{var t=JSON.parse(localStorage[i]);e=s.reduce(function(e,a){return t[a]&&Object.assign(e,Object(r.a)({},a,t[a])),e},{})}catch(a){console.log("Failed to restore state")}return e}(),u=Object.assign({},o,l),m=a(97),d=window.speechSynthesis,v=window.SpeechRecognition||window.webkitSpeechRecognition,g=window.SpeechGrammarList||window.webkitSpeechGrammarList,p={setVoiceList:function(e){return e.state.isSpeechSupported?{voices:d.getVoices().map(function(e,t){return{id:t,label:"".concat(e.lang," - ").concat(e.name),name:e.name,language:e.lang,voiceURI:e.voiceURI,isLocal:e.localService,isDefault:e.default,isSelected:!!e.default}}).sort(function(e,t){return e.label.localeCompare(t.label)})}:{}},synthesize:function(e){var t=e.state,a=e.store;if(t.isSpeechSupported){var n=a.speachError,r=a.stopSpeaking,i=a.startSpeaking,s=a.clearSpeachError,c=t.currentText,o=t.rate,l=t.pitch,u=t.voices.find(function(e){return e.isSelected}).id,m=d.getVoices()[u],v=new SpeechSynthesisUtterance(c);v.onend=r,v.onerror=function(e){return n(e.error.message).stopSpeaking()},v.voiceURI=m.voiceURI,v.lang=m.lang,v.pitch=l,v.rate=o,s(),d.speak(v),i()}},setPitch:function(e){return{pitch:e.data}},setRate:function(e){return{rate:e.data}},setText:function(e){return{currentText:e.data}},setVoice:function(e){var t=e.state,a=e.data;return{voices:t.voices.map(function(e){return Object(m.a)({},e,{isSelected:e.id===a})})}},startSpeaking:function(){return{isSpeaking:!0}},stopSpeaking:function(){return{isSpeaking:!1}},speachError:function(e){return{errorMessage:e.data}},clearSpeachError:function(){return{errorMessage:""}},setGrammar:function(e){return{currentGrammar:e.data}},recognizeStart:function(e){var t=e.state,a=e.store,n=t.maxAlternatives,r=t.currentGrammar.split(" ").join(" | "),i="#JSGF V1.0; grammar ".concat("talkToMes","; public <").concat("talkToMe","> = ").concat(r,";");c=new v;var s=new g;s.addFromString(i,1),c.grammars=s,c.lang="en-US",c.interimResults=!1,c.maxAlternatives=n,c.onresult=function(e){return a.setRecognitionResult(e)},c.onerror=function(e){return a.setRecognitionError(e)},c.onend=function(){return a.addRecognitonDiagnosis("End")},c.onstart=function(){return a.addRecognitonDiagnosis("Start")},c.onnomatch=function(){return a.addRecognitonDiagnosis("No match")},c.onaudioend=function(){return a.addRecognitonDiagnosis("Audio end")},c.onaudiostart=function(){return a.addRecognitonDiagnosis("Audio start")},c.onsoundend=function(){return a.addRecognitonDiagnosis("Sound end")},c.onsoundstart=function(){return a.addRecognitonDiagnosis("Sound start")},c.onspeechend=function(){return a.recognizeStop()},c.onspeechstart=function(){return a.addRecognitonDiagnosis("Speech start")},a.startRecognizing(),c.start()},setMaxAlternatives:function(e){return{maxAlternatives:e.data}},recognizeStop:function(e){var t=e.store;e.state.recognitionDiagnosis;t.stopRecognizing(),c.stop(),t.addRecognitonDiagnosis("Speech end")},setRecognitionError:function(e){var t=e.data,a=e.store;e.state.recognitionDiagnosis;a.stopRecognizing(),a.addRecognitonDiagnosis("Error occurred in recognition: ".concat(t.error,", ").concat(t.message))},setRecognitionResult:function(e){var t=e.data,a=e.store;a.stopRecognizing();for(var n=t.results.length,r=[],i=0;i<n;i++){for(var s=t.results.item(i),c=s.length,o=[],l=0;l<c;l++){var u=s.item(l);o.push({transcript:u.transcript,confidence:u.confidence})}r.push({items:o})}return a.addRecognitonDiagnosis("Result"),{recognitionResult:JSON.stringify(r,null,"  ")}},startRecognizing:function(){return{isRecognizing:!0,recognitionResult:"",recognitionDiagnosis:[]}},addRecognitonDiagnosis:function(e){var t=e.data;return{recognitionDiagnosis:e.state.recognitionDiagnosis.concat(t)}},stopRecognizing:function(){return{isRecognizing:!1}}},h=a(1),f=a.n(h),E=a(195),b=a(21),S=a(22),N=a(25),R=a(23),y=a(24),w=a(13),k=a(198),z=a(200),O=(a(114),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(N.a)(this,Object(R.a)(t).call(this,e))).state={inputValue:e.value},a.onChange=a.onChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(y.a)(t,e),Object(S.a)(t,[{key:"onChange",value:function(e){var t=this;isNaN(e)||this.setState({inputValue:e},function(){return t.props.onChange(e)})}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({inputValue:e.value})}},{key:"render",value:function(){var e=this.state.inputValue;return f.a.createElement("div",{className:"c-range"},f.a.createElement("div",{className:"c-range__label"},this.props.label),f.a.createElement("div",{className:"c-range__track"},f.a.createElement(k.a,{min:.1,max:2,step:.1,onChange:this.onChange,value:e})),f.a.createElement("div",{className:"c-range__input"},f.a.createElement(z.a,{min:.1,max:2,step:.1,onChange:this.onChange,value:e})))}}]),t}(f.a.Component)),_=a(199),j=_.a.TextArea,x=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(N.a)(this,Object(R.a)(t).call(this,e))).state={value:e.value},a.setText=a.setText.bind(Object(w.a)(Object(w.a)(a))),a}return Object(y.a)(t,e),Object(S.a)(t,[{key:"setText",value:function(e){var t=this,a=e.target.value;this.setState({value:a},function(){return t.props.onChange(a)})}},{key:"render",value:function(){return f.a.createElement(j,{rows:4,onChange:this.setText,placeholder:"Write to me!",value:this.state.value})}}]),t}(h.Component),C=a(197),T=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(N.a)(this,Object(R.a)(t).call(this,e))).state={value:e.value},a.setId=a.setId.bind(Object(w.a)(Object(w.a)(a))),a}return Object(y.a)(t,e),Object(S.a)(t,[{key:"setId",value:function(e){var t=this;this.setState({value:e},function(){return t.props.onChange(e)})}},{key:"render",value:function(){var e=this.props.voices.find(function(e){return e.isSelected});return f.a.createElement(C.a,{value:e?e.id:null,onChange:this.setId,className:"synthesize__language"},this.props.voices.map(function(e){return f.a.createElement(C.a.Option,{key:e.id,value:e.id},e.label)}))}}]),t}(h.Component),D=(a(181),"Sorry, speech synthesis is not available on this device.");function V(e){var t=e.state,a=e.store,n=t.currentText,r=t.voices,i=t.rate,s=t.pitch,c=t.isSpeaking,o=t.isSpeechSupported,l=a.setText,u=a.setVoice,m=a.synthesize,d=a.setPitch,v=a.setRate,g=o&&n.length>0&&!c;return f.a.createElement("div",{className:"app-content"},f.a.createElement("div",{className:"synthesize"},f.a.createElement("h3",{className:"app-header"},"Enter text to be read"),f.a.createElement("div",{className:"synthesize-row"},f.a.createElement(x,{value:n,onChange:l})),f.a.createElement("div",{className:"synthesize-row"},f.a.createElement(T,{onChange:u,voices:r})),f.a.createElement("div",{className:"synthesize-row"},f.a.createElement(O,{label:"Pitch",onChange:d,value:s})),f.a.createElement("div",{className:"synthesize-row"},f.a.createElement(O,{label:"Speed",onChange:v,value:i})),f.a.createElement("div",{className:"synthesize-action"},f.a.createElement(E.a,{size:"large",disabled:!g,onClick:m},"Talk to me!"),c?f.a.createElement("div",{className:"synthesize__speach"},"Talking..."):""),o?"":f.a.createElement("div",{className:"app-error"},D)))}var A=_.a.TextArea,L=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(N.a)(this,Object(R.a)(t).call(this,e))).state={value:e.value},a.setText=a.setText.bind(Object(w.a)(Object(w.a)(a))),a}return Object(y.a)(t,e),Object(S.a)(t,[{key:"setText",value:function(e){var t=this,a=e.target.value;this.setState({value:a},function(){return t.props.onChange(a)})}},{key:"render",value:function(){return f.a.createElement(A,{rows:4,onChange:this.setText,placeholder:"Words to be recognized separated by space",value:this.state.value})}}]),t}(h.Component),I=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(N.a)(this,Object(R.a)(t).call(this,e))).state={value:e.value},a.onChange=a.onChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(y.a)(t,e),Object(S.a)(t,[{key:"onChange",value:function(e){var t=this;this.setState({value:e},function(){return t.props.onChange(e)})}},{key:"render",value:function(){var e=this.state.value;return f.a.createElement("div",{className:"recognize-max-alternatives"},f.a.createElement("div",{className:"recognize-max-alternatives__label"},"Max alternatives"),f.a.createElement(z.a,{min:1,max:10,step:1,onChange:this.onChange,value:e}))}}]),t}(h.Component),G=(a(183),"Sorry, speech recognition is not available on this device.");function M(e){var t=e.state,a=e.store,n=t.currentGrammar,r=t.maxAlternatives,i=t.isRecognizing,s=t.recognitionResult,c=t.recognitionDiagnosis,o=t.isRecognitionSupported,l=a.setGrammar,u=a.setMaxAlternatives,m=a.recognizeStart,d=a.recongnizeStop,v=o&&n.length>0&&!i;return f.a.createElement("div",{className:"app-content"},f.a.createElement("div",{className:"synthesize"},f.a.createElement("h3",{className:"app-header"},"Enter words that should be recognized. Should be separated by space."),f.a.createElement("div",{className:"synthesize-row"},f.a.createElement(L,{value:n,onChange:l})),f.a.createElement("div",{className:"synthesize-row"},f.a.createElement(I,{value:r,onChange:u})),f.a.createElement("div",{className:"synthesize-row"},f.a.createElement("pre",null,s)),f.a.createElement("div",{className:"synthesize-row"},c.map(function(e,t){return f.a.createElement("div",{key:t},e)})),f.a.createElement("div",{className:"synthesize-action"},i?"":f.a.createElement(E.a,{size:"large",disabled:!v,onClick:m},"Listen to me!"),i?f.a.createElement(E.a,{size:"large",disabled:!v,onClick:d},"Stop!"):"",i?f.a.createElement("div",{className:"synthesize__speach"},"Listening..."):""),o?"":f.a.createElement("div",{className:"app-error"},G)))}var U=a(201),J=a(196);function P(e){var t=e.voice;return f.a.createElement("div",{className:"voice-list__item"},f.a.createElement("div",{className:"voice-list__header"},f.a.createElement("h4",{className:"voice-list__label"},t.name),t.isLocal?f.a.createElement("div",{className:"voice-list__extra"},"local"):"",t.isDefault?f.a.createElement("div",{className:"voice-list__extra"},"default"):""),f.a.createElement("table",{className:"voice-list__table"},f.a.createElement("tbody",null,f.a.createElement("tr",{className:"voice-list__row"},f.a.createElement("td",{className:"voice-list__key"},"Language"),f.a.createElement("td",{className:"voice-list__value"},t.language)),f.a.createElement("tr",{className:"voice-list__row"},f.a.createElement("td",{className:"voice-list__key"},"URI"),f.a.createElement("td",{className:"voice-list__value"},t.voiceURI)))))}a(185);function F(e){var t=e.state;e.store;return f.a.createElement("div",{className:"app-content"},f.a.createElement("h3",{className:"app-header"},"Voices available on this device"),f.a.createElement("div",{className:"voice-list"},t.voices.map(function(e){return f.a.createElement(P,{key:e.id,voice:e})})))}var W=a(202);a(187);function q(){return f.a.createElement("div",{className:"app-menu"},f.a.createElement(W.a,{exact:!0,className:"app-menu__link",to:"/"},"Synthesize"),f.a.createElement(W.a,{exact:!0,className:"app-menu__link",to:"/recognize"},"Recognize"),f.a.createElement(W.a,{exact:!0,className:"app-menu__link",to:"/voiceList"},"Voices"))}a(190);a(192);window.onerror=function(e){return alert(e)};var B=document.getElementById("root"),H=Object(n.createApp)(p,u,function(e){var t=e.store,a=e.state,n=a.errorMessage;return f.a.createElement("div",{className:"app"},f.a.createElement(U.a,{basename:a.urlFolderPath},f.a.createElement("div",{className:"app-container"},f.a.createElement(q,null),f.a.createElement(J.a,{exact:!0,path:"/",render:function(){return f.a.createElement(V,{state:a,store:t})}}),f.a.createElement(J.a,{exact:!0,path:"/recognize",render:function(){return f.a.createElement(M,{state:a,store:t})}}),f.a.createElement(J.a,{exact:!0,path:"/voiceList",render:function(){return f.a.createElement(F,{state:a,store:t})}}),n?f.a.createElement("div",{className:"app-error"},n):"")))},B);H.setVoiceList(),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=H.setVoiceList),H.subscribe(function(e){return function(e){var t=JSON.stringify(e);localStorage[i]=t}(e.state)}),window.onerror=function(e){return H.speachError(e)}}},[[109,2,1]]]);
//# sourceMappingURL=main.21b85910.chunk.js.map