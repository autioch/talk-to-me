(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports=a(191)},113:function(e,t,a){},180:function(e,t,a){},182:function(e,t,a){},184:function(e,t,a){},187:function(e,t,a){},191:function(e,t,a){"use strict";a.r(t);var n=a(95),c={currentText:"Example text",voices:[],pitch:1,rate:1,isSpeaking:!1,errorMessage:"",urlFolderPath:"/talk-to-me",STORAGE_ID:"talk-to-me-1.0.0"};if(localStorage["talk-to-me-1.0.0"])try{(c=JSON.parse(localStorage["talk-to-me-1.0.0"])).isSpeaking=!1,c.errorMessage=""}catch(I){console.log("Failed to restore state")}var r=c,s=a(105),i={setVoiceList:function(){return{voices:window.speechSynthesis.getVoices().map(function(e,t){return{id:t,label:"".concat(e.lang," - ").concat(e.name),name:e.name,language:e.lang,voiceURI:e.voiceURI,isLocal:e.localService,isDefault:e.default,isSelected:!!e.default}}).sort(function(e,t){return e.label.localeCompare(t.label)})}},synthesize:function(e){var t=e.state,a=e.store,n=a.speachError,c=a.stopSpeaking,r=a.startSpeaking,s=a.clearSpeachError,i=t.currentText,l=t.rate,o=t.pitch,u=t.voices.find(function(e){return e.isSelected}).id,m=window.speechSynthesis.getVoices()[u],v=new SpeechSynthesisUtterance(i);v.onend=c,v.onerror=function(e){return n(e.error.message).stopSpeaking()},v.voice=m,v.pitch=o,v.rate=l,s(),window.speechSynthesis.speak(v),r()},setPitch:function(e){return{pitch:e.data}},setRate:function(e){return{rate:e.data}},setText:function(e){return{currentText:e.data}},setVoice:function(e){var t=e.state,a=e.data;return{voices:t.voices.map(function(e){return Object(s.a)({},e,{isSelected:e.id===a})})}},startSpeaking:function(){return{isSpeaking:!0}},stopSpeaking:function(){return{isSpeaking:!1}},speachError:function(e){return{errorMessage:e.data}},clearSpeachError:function(){return{errorMessage:""}}},l=a(1),o=a.n(l),u=a(192),m=a(38),v=a(39),h=a(43),p=a(40),d=a(42),E=a(18),g=a(195),f=a(197),b=(a(113),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={inputValue:e.value},a.onChange=a.onChange.bind(Object(E.a)(Object(E.a)(a))),a}return Object(d.a)(t,e),Object(v.a)(t,[{key:"onChange",value:function(e){var t=this;isNaN(e)||this.setState({inputValue:e},function(){return t.props.onChange(e)})}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({inputValue:e.value})}},{key:"render",value:function(){var e=this.state.inputValue;return o.a.createElement("div",{className:"c-range"},o.a.createElement("div",{className:"c-range__label"},this.props.label),o.a.createElement("div",{className:"c-range__track"},o.a.createElement(g.a,{min:.1,max:2,step:.1,onChange:this.onChange,value:e})),o.a.createElement("div",{className:"c-range__input"},o.a.createElement(f.a,{min:.1,max:2,step:.1,onChange:this.onChange,value:e})))}}]),t}(o.a.Component)),_=a(196).a.TextArea,N=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={value:e.value},a.setText=a.setText.bind(Object(E.a)(Object(E.a)(a))),a}return Object(d.a)(t,e),Object(v.a)(t,[{key:"setText",value:function(e){var t=this,a=e.target.value;this.setState({value:a},function(){return t.props.onChange(a)})}},{key:"render",value:function(){return o.a.createElement(_,{rows:4,onChange:this.setText,placeholder:"Write to me!",value:this.state.value})}}]),t}(l.Component),S=a(194),k=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={value:e.value},a.setId=a.setId.bind(Object(E.a)(Object(E.a)(a))),a}return Object(d.a)(t,e),Object(v.a)(t,[{key:"setId",value:function(e){var t=this;this.setState({value:e},function(){return t.props.onChange(e)})}},{key:"render",value:function(){return o.a.createElement(S.a,{value:this.state.value,onChange:this.setId,className:"synthesize__language"},this.props.voices.map(function(e){return o.a.createElement(S.a.Option,{key:e.id,value:e.id},e.label)}))}}]),t}(l.Component);a(180);function y(e){var t=e.state,a=e.store,n=t.currentText,c=t.voices,r=t.rate,s=t.pitch,i=t.isSpeaking,l=a.setText,m=a.setVoice,v=a.synthesize,h=a.setPitch,p=a.setRate,d=c.find(function(e){return e.isSelected}),E=n.length>0&&!i;return o.a.createElement("div",{className:"app-content"},o.a.createElement("div",{className:"synthesize"},o.a.createElement("h3",{className:"app-header"},"Enter text to be read"),o.a.createElement("div",{className:"synthesize-row"},o.a.createElement(N,{value:n,onChange:l})),o.a.createElement("div",{className:"synthesize-row"},o.a.createElement(k,{value:d.id,onChange:m,voices:c})),o.a.createElement("div",{className:"synthesize-row"},o.a.createElement(b,{label:"Pitch",onChange:h,value:s})),o.a.createElement("div",{className:"synthesize-row"},o.a.createElement(b,{label:"Speed",onChange:p,value:r})),o.a.createElement("div",{className:"synthesize-action"},o.a.createElement(u.a,{size:"large",disabled:!E,onClick:v},"Talk to me!"),i?o.a.createElement("div",{className:"synthesize__speach"},"Talking..."):"")))}var O=a(198),j=a(193);function x(e){var t=e.voice;return o.a.createElement("div",{className:"voice-list__item"},o.a.createElement("div",{className:"voice-list__header"},o.a.createElement("h4",{className:"voice-list__label"},t.name),t.isLocal?o.a.createElement("div",{className:"voice-list__extra"},"local"):"",t.isDefault?o.a.createElement("div",{className:"voice-list__extra"},"default"):""),o.a.createElement("table",{className:"voice-list__table"},o.a.createElement("tbody",null,o.a.createElement("tr",{className:"voice-list__row"},o.a.createElement("td",{className:"voice-list__key"},"Language"),o.a.createElement("td",{className:"voice-list__value"},t.language)),o.a.createElement("tr",{className:"voice-list__row"},o.a.createElement("td",{className:"voice-list__key"},"URI"),o.a.createElement("td",{className:"voice-list__value"},t.voiceURI)))))}a(182);function w(e){var t=e.state;e.store;return o.a.createElement("div",{className:"app-content"},o.a.createElement("h3",{className:"app-header"},"Voices available on this device"),o.a.createElement("div",{className:"voice-list"},t.voices.map(function(e){return o.a.createElement(x,{key:e.id,voice:e})})))}var C=a(199);a(184);function T(){return o.a.createElement("div",{className:"app-menu"},o.a.createElement(C.a,{exact:!0,className:"app-menu__link",to:"/"},"Synthesize"),o.a.createElement(C.a,{exact:!0,className:"app-menu__link",to:"/voiceList"},"Voice list"))}a(187);a(189);var V=document.getElementById("root"),z=Object(n.createApp)(i,r,function(e){var t=e.store,a=e.state,n=a.errorMessage;return o.a.createElement("div",{className:"app"},o.a.createElement(O.a,{basename:a.urlFolderPath},o.a.createElement("div",{className:"app-container"},o.a.createElement(T,null),o.a.createElement(j.a,{exact:!0,path:"/",render:function(){return o.a.createElement(y,{state:a,store:t})}}),o.a.createElement(j.a,{exact:!0,path:"/voiceList",render:function(){return o.a.createElement(w,{state:a,store:t})}}),n?o.a.createElement("div",{className:"app-error"},n):"")))},V);z.setVoiceList(),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=z.setVoiceList),z.subscribe(function(e){var t=e.state,a=JSON.stringify(t);localStorage[t.STORAGE_ID]=a}),window.onerror=function(e){return z.speachError(e)}}},[[108,2,1]]]);
//# sourceMappingURL=main.bd4daae4.chunk.js.map